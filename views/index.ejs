<% include header %>
	<!-- navigation bar -->
	<div class="nav">
		<br> <!-- new the one lines -->
		<!-- link to Official -->
		<a class="pure-button btn1" href="http://invoice.etax.nat.gov.tw/" target="_blank">
		    <i class="fa fa-running fa-lg"></i>
		    <b>Official latest</b>
		</a>
		<br><br> <!-- new the two lines -->
		<center>
			<h1><font color="#FFF">Whatâ€™s your receipt number?</font></h1> <!-- question -->
			<form class="pure-form" method="post" name="form1">
			  <fieldset>
			  	<!-- user input number -->
				<input type="tel" name="receiptNumber" placeholder="Must input 8 numbers" minlength="8" maxlength="8" onchange="onlyNum(1,this.value)" required>

				<!-- submit button -->
				<input type="submit" class="pure-button pure-button-primary btn2" value="Check">
			  </fieldset>
			</form>
			<br><br><br><br><br><br> <!-- new the six lines -->
			<font color="#FFF" size="1">Copyright &copy; 2019 Samuel Chi All rights reserved.</font>
		</center>
	</div>

	<!-- table of result -->
	<table class="pure-table">
		<!-- table head -->
		<thead>
			<tr>
				<th width="5%" align="center" valign="center">No.</th>
				<th width="35%" align="center" valign="center">Your Numbers</th>
				<th width="15%" align="center" valign="center">Status</th>
				<th width="45%" align="center" valign="center">Time</th>
			</tr>
		</thead>

		<!-- table body -->
		<tbody>
			<% if (entries.length) { %>
		  		<% entries.forEach(function(entry) { %>
		   			<tr>
		   				<td align="center" valign="center"><%= entry.Index %></td>
		   				<td align="center" valign="center"><%= entry.receiptNumber %></td>
		   				<td align="center" valign="center">
		   					<% if(entry.receiptNumber === entry.Num_1) { %>
		   						<font color="#C00" onclick="alert('NT$10 million for matching all the digits')" style="cursor: pointer;"><b>Special Prize</b></font>
		   					<% } else if(entry.receiptNumber === entry.Num_2) { %>
		   						<font color="#C00" onclick="alert('NT$2 million for matching all the digits')" style="cursor: pointer;"><b>Grand Prize</b></font>
		   					<% } else if(entry.receiptNumber === entry.Num_3_1_1 || 
		   								entry.receiptNumber === entry.Num_3_2_1 ||
		   								entry.receiptNumber === entry.Num_3_3_1 ) { %>
		   						<font color="#C00" onclick="alert('NT$200,000 for matching all the digits')" style="cursor: pointer;"><b>First Prize</b></font>
		   					<% } else if(entry.receiptNumber.slice(1,8) === entry.Num_3_1_2 || 
		   								entry.receiptNumber.slice(1,8) === entry.Num_3_2_2 ||
		   								entry.receiptNumber.slice(1,8) === entry.Num_3_3_2 ) { %>
		   						<font color="#C00" onclick="alert('NT$40,000 for matching the last seven digits')" style="cursor: pointer;"><b>Second Prize</b></font>
		   					<% } else if(entry.receiptNumber.slice(2,8) === entry.Num_3_1_3 || 
		   								entry.receiptNumber.slice(2,8) === entry.Num_3_2_3 ||
		   								entry.receiptNumber.slice(2,8) === entry.Num_3_3_3 ) { %>
		   						<font color="#C00" onclick="alert('NT$10,000 for matching the last six digits')" style="cursor: pointer;"><b>Third Prize</b></font>
		   					<% } else if(entry.receiptNumber.slice(3,8) === entry.Num_3_1_4 || 
		   								entry.receiptNumber.slice(3,8) === entry.Num_3_2_4 ||
		   								entry.receiptNumber.slice(3,8) === entry.Num_3_3_4 ) { %>
		   						<font color="#C00" onclick="alert('NT$4,000 for matching the last five digits')" style="cursor: pointer;"><b>Fourth Prize</b></font>
		   					<% } else if(entry.receiptNumber.slice(4,8) === entry.Num_3_1_5 || 
		   								entry.receiptNumber.slice(4,8) === entry.Num_3_2_5 ||
		   								entry.receiptNumber.slice(4,8) === entry.Num_3_3_5 ) { %>
		   						<font color="#C00" onclick="alert('NT$1,000 for matching the last four digits')" style="cursor: pointer;"><b>Fifth Prize</b></font>
		   					<% } else if(entry.receiptNumber.slice(5,8) === entry.Num_3_1_6 || 
		   								entry.receiptNumber.slice(5,8) === entry.Num_3_2_6 ||
		   								entry.receiptNumber.slice(5,8) === entry.Num_3_3_6 ) { %>
		   						<font color="#C00" onclick="alert('NT$200 for matching the last three digits')" style="cursor: pointer;"><b>Sixth Prize</b></font>
		   					<% } else if(entry.receiptNumber.slice(5,8) === entry.Num_4_1 || 
		   								entry.receiptNumber.slice(5,8) === entry.Num_4_2 ||
		   								entry.receiptNumber.slice(5,8) === entry.Num_4_3 ) { %>
		   						<font color="#C00" onclick="alert('NT$200 for matching the last three digits')" style="cursor: pointer;"><b>Additional Sixth Prize</b></font>
		   					<% } else { %>
		   						<font color="#000"><b>No Prize</b></font>
		   					<% } %>
		   				</td>

		   				<!-- formate: YYYY/MM/DD hh:mm:ss -->
		   				<td align="center" valign="center">
		   					<%= entry.published.getFullYear() %> /

			   				<% if (entry.published.getMonth() + 1 < 10) { %>
					            0<%= entry.published.getMonth() + 1 %> /
				            <% } else { %>
				            	<%= entry.published.getMonth() + 1 %> /
				            <% } %>

				            <% if (entry.published.getDate() < 10) { %>
					            0<%= entry.published.getDate() %>&emsp;
				            <% } else { %>
				            	<%= entry.published.getDate() %>&emsp;
				            <% } %>

				            <% if (entry.published.getHours() < 10) { %>
					            0<%= entry.published.getHours() %>:
				            <% } else { %>
				            	<%= entry.published.getHours() %>:
				            <% } %>

				     		<% if (entry.published.getMinutes() < 10) { %>
					            0<%= entry.published.getMinutes() %>:
				            <% } else { %>
				            	<%= entry.published.getMinutes() %>:
				            <% } %>

				            <% if (entry.published.getSeconds() < 10) { %>
					            0<%= entry.published.getSeconds() %>
				            <% } else { %>
				            	<%= entry.published.getSeconds() %>
				            <% } %>
		   				</td>
		   			</tr>
		  		<% }) %>
			<%} else { %>
				<tr>
					<td colspan="4" align="center" valign="center"><b>Not Any Data !</b></td>
				</tr>
			<% } %>	
		</tbody>
	</table>

	<!-- Java Script -->
	<script type="text/javascript">
		function onlyNum(index,str) {
			for (var i = 0; i < str.length; i++) {
				if(str[i] < "0" || str[i] > "9") {
					alert("Only allow numeric !");
	          		document.form1.elements[index].value = '';
	          		document.form1.elements[index].focus();
	          		return;
				}
			}
		}
	</script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> 
	<script src="/main.js"></script>
<% include footer %>